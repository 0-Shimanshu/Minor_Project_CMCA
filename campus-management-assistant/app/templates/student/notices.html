{% extends 'base.html' %}
{% block content %}
  <div class="card">
    <h1>Your Notices</h1>
    <form method="get" class="filter-row" style="margin-bottom:12px">
      <label style="margin-right:8px">Category</label>
      <select name="category" class="input">
        <option value="">All</option>
        {% for c in categories %}
          <option value="{{ c.name }}" {% if selected_category == c.name %}selected{% endif %}>{{ c.name }}</option>
        {% endfor %}
      </select>
      <button type="submit" class="btn btn-secondary" style="margin-left:8px">Filter</button>
    </form>
    {% if notices %}
      {% for n in notices %}
        <div class="card" style="margin-bottom:12px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <h3 style="margin:0">{{ n.title }}</h3>
            <span class="badge">{{ n.visibility|capitalize }}</span>
          </div>
          {% if n.summary %}<p style="margin:6px 0">{{ n.summary }}</p>{% endif %}
          <div class="btn-group">
            <a href="/student/notices/{{ n.id }}" class="btn btn-primary">Open Notice</a>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <p>No notices.</p>
    {% endif %}
  </div>
{% endblock %}
